"use strict";window.theme=window.theme||{};const options={templateProduct:".bls__template-product",flashSold:".bls__flash-sold",countdownTimer:".bls__countdown-timer",visitors:".bls__visitors",countdowProduct:".bls__countdow-product",paymentButton:".bls__payment-button",navTabs:".nav-tabs a",accorditionTabs:".data.accordition",productInfomationTab:".bls__product-tabs-content",tabContent:".tab-content .tab-item",productAddons:".bls__product_addons",shareCopy:".bls__share-copy",compareColorsBtn:".bls__compare-color-btn",photoZoomImage:".bls__zoom-image",mediaImage:".bls__media-image"};theme.ProductVideo=function(){var e={},t={shopify:"shopify",external:"external"},r={productMediaWrapper:"[data-product-single-media-wrapper]"},i={enableVideoLooping:"enable-video-looping",videoId:"video-id"};function o(r){if(r){(function r(){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o.nativeVideo)continue;o.host===t.shopify&&(o.element.setAttribute("controls","controls"),o.nativeVideo=!0)}})();return}a()}function a(){for(var t in e)e.hasOwnProperty(t)&&e[t].ready()}return{init:function a(n,s){if(n){var l=n.querySelector("iframe, video");if(l){var c,d=n.getAttribute("data-product-media-id");e[d]={mediaId:d,sectionId:s,host:(c=l,"VIDEO"===c.tagName?t.shopify:t.external),container:n,element:l,ready:function(){(function e(t){if(!t.player){var o=t.container.closest(r.productMediaWrapper),a="true"===o.getAttribute("data-"+i.enableVideoLooping);t.player=new Shopify.Video(t.element,{loop:{active:a}});var n=function(){t.player&&t.player.pause()};o.addEventListener("mediaHidden",n),o.addEventListener("xrLaunch",n),o.addEventListener("mediaVisible",function(){!theme.Helpers.isTouch()&&t.player&&t.player.play()})}})(this)}},window.Shopify.loadFeatures([{name:"video-ui",version:"2.0",onLoad:o}]),theme.LibraryLoader.load("plyrShopifyStyles")}}},hosts:t,loadVideos:a,removeSectionVideos:function t(r){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];o.sectionId===r&&(o.player&&o.player.destroy(),delete e[i])}}}}(),theme.ProductModel=function(){var e={},t={},r={},i={mediaGroup:"[data-product-single-media-group]",xrButton:"[data-shopify-xr]"};function o(e){if(!e){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i.modelViewerUi||(i.modelViewerUi=new Shopify.ModelViewerUI(i.element)),a(i)}}}function a(e){var t=r[e.sectionId];e.container.addEventListener("mediaVisible",function(){t.element.setAttribute("data-shopify-model3d-id",e.modelId),theme.Helpers.isTouch()||e.modelViewerUi.play()}),e.container.addEventListener("mediaHidden",function(){t.element.setAttribute("data-shopify-model3d-id",t.defaultId),e.modelViewerUi.pause()}),e.container.addEventListener("xrLaunch",function(){e.modelViewerUi.pause()})}return{init:function a(n,s){e[s]={loaded:!1},n.forEach(function(e,o){var a=e.getAttribute("data-product-media-id"),n=e.querySelector("model-viewer"),l=n.getAttribute("data-model-id");if(0===o){var c=e.closest(i.mediaGroup).querySelector(i.xrButton);r[s]={element:c,defaultId:l}}t[a]={modelId:l,sectionId:s,container:e,element:n}}),window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:function t(r){if(!r){if(!window.ShopifyXR){document.addEventListener("shopify_xr_initialized",function(){t()});return}for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o.loaded)continue;var a=document.querySelector("#ModelJson-"+i);window.ShopifyXR.addModels(JSON.parse(a.innerHTML)),o.loaded=!0}window.ShopifyXR.setupXRElements()}}},{name:"model-viewer-ui",version:"1.0",onLoad:o}]),theme.LibraryLoader.load("modelViewerUiStyles")},removeSectionModels:function r(i){for(var o in t)t.hasOwnProperty(o)&&t[o].sectionId===i&&(t[o].modelViewerUi.destroy(),delete t[o]);delete e[i]}}}(),theme.LibraryLoader=function(){var e={link:"link",script:"script"},t={requested:"requested",loaded:"loaded"},r="https://cdn.shopify.com/shopifycloud/",i={plyrShopifyStyles:{tagId:"plyr-shopify-styles",src:r+"plyr/v2.0/shopify-plyr.css",type:e.link},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:r+"model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:e.link}};return{load:function r(o,a){var n,s=i[o];if(s&&s.status!==t.requested){if(a=a||function(){},s.status===t.loaded){a();return}switch(s.status=t.requested,s.type){case e.script:n=(l=s,c=a,d=document.createElement("script"),d.src=l.src,d.addEventListener("load",function(){l.status=t.loaded,c()}),d);break;case e.link:n=(u=s,p=a,h=document.createElement("link"),h.href=u.src,h.rel="stylesheet",h.type="text/css",h.addEventListener("load",function(){u.status=t.loaded,p()}),h)}n.id=s.tagId,s.element=n;var l,c,d,u,p,h,y=document.getElementsByTagName(s.type)[0];y.parentNode.insertBefore(n,y)}}}}();class VariantSelects extends HTMLElement{constructor(){super(),this.querySelectorAll(".bls__option-swatch").forEach(e=>e.addEventListener("click",this.onVariantChange.bind(this),!1))}onVariantChange(e){e.preventDefault();let t=e.currentTarget,r=t.getAttribute("data-value");for(var i of t.closest("fieldset").querySelectorAll(".bls__option-swatch"))i.classList.remove("active");t.classList.toggle("active"),t.closest("fieldset").querySelector(".swatch-selected-value").textContent=r,this.updateOptions(),this.updateMasterId(),this.toggleAddButton(!0,"",!1),this.updatePickupAvailability(),this.removeErrorMessage(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll(".bls__option-swatch.active"),e=>e.getAttribute("data-value"))}updateMasterId(){this.currentVariant=this.getVariantData().find(e=>!e.options.map((e,t)=>this.options[t]===e).includes(!1))}updateMedia(){if(this.currentVariant&&this.currentVariant.featured_media&&(document.querySelector(".bls__product-images").classList.contains("bls__product-grid-1")||document.querySelector(".bls__product-images").classList.contains("bls__product-grid-2"))){var e=document.querySelector(`.bls__media-image[data-media-id="${this.currentVariant.featured_media.id}"]`),t=e;do{if(!(t=t.parentNode))return;t.scrollTop+=1}while(0==t.scrollTop);var r=0;do{if(e==t)break;r+=e.offsetTop}while(e=e.offsetParent);(scroll=function(e,t,r,i){++i>30||(e.scrollTop=t+(r-t)/30*i,setTimeout(function(){scroll(e,t,r,i)},20))})(t,t.scrollTop,r,0)}}updateURL(){this.currentVariant&&"false"!==this.dataset.updateUrl&&window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){let e=document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment-${this.dataset.section}`);e.forEach(e=>{let t=e.querySelector('input[name="id"]');t.value=this.currentVariant.id,t.dispatchEvent(new Event("change",{bubbles:!0}))}),document.querySelector(".sticky-addcart-opstion")&&(document.querySelector(".sticky-addcart-opstion").value=this.currentVariant.id)}updatePickupAvailability(){let e=document.querySelector("pickup-availability");e&&(this.currentVariant&&this.currentVariant.available?e.fetchAvailability(this.currentVariant.id):(e.removeAttribute("available"),e.innerHTML=""))}removeErrorMessage(){let e=this.closest("section");if(!e)return;let t=e.querySelector("product-form");t&&t.handleErrorMessage()}renderProductInfo(){if(!this.currentVariant)return;let e=0,t=0,r=!1,i=!1,o=window.variantStrings.soldOut,a=window.variantStrings.inStock,n=this.currentVariant.compare_at_price,s=this.currentVariant.unit_price,l=this.currentVariant.unit_price_measurement,c=this.currentVariant.price,d=document.getElementById(`product-form-${this.dataset.section}`),u=d.closest(".bls__product-details-infor");if(this.getVariantQtyData().find(t=>{t.id===this.currentVariant.id&&(e=t.qty)}),n&&n>c&&(r=!0,t=(n-c)/n*100),s&&l){let p=Shopify.formatMoney(s,cartStrings.money_format),h=1!=l.reference_value?l.reference_value:l.reference_unit;u.querySelector(".unit-price .number").innerHTML=p,u.querySelector(".unit-price .unit").innerHTML=h}this.currentVariant.available&&e<1?(a=window.variantStrings.preOrder,o=window.variantStrings.preOrder):this.currentVariant.available?(a=window.variantStrings.inStock,o=window.variantStrings.addToCart):(a=window.variantStrings.outStock,i=!0);let y=u.querySelector(".bls__product-label");if(y&&y.remove(),r||i){var v=document.createElement("div");v.classList.add("bls__product-label","mb-5","fs-12","pointer-events-none","inline-block","static"),u.insertBefore(v,u.children[0]);let m=u.querySelector(".bls__product-label");var f=document.createElement("div");r?(f.classList.add("bls__sale-label"),f.innerText=-t.toFixed(0)+"%"):(f.classList.add("bls__sold-out-label"),f.innerText=window.variantStrings.soldOut),m.appendChild(f)}u.querySelector(".bls__availability-value")&&(u.querySelector(".bls__availability-value").textContent=a),u.querySelector(".bls__product-sku-value")&&(u.querySelector(".bls__product-sku-value").textContent=this.currentVariant.sku);let g=Shopify.formatMoney(this.currentVariant.price,cartStrings.money_format);u.querySelector(".price__regular .price").innerHTML=g;let b=u.querySelector(".bls__price");if(b.classList.remove("price--sold-out","price--on-sale"),b.querySelector(".price__regular .price").classList.remove("special-price"),n&&n>c){let S=Shopify.formatMoney(n,cartStrings.money_format);u.querySelector(".compare-price").innerHTML=S,b.classList.add("price--on-sale"),u.querySelector(".price__regular .price").classList.add("special-price")}else this.currentVariant.available||b.classList.add("price--sold-out");this.toggleAddButton(!this.currentVariant.available,o)}toggleAddButton(e=!0,t,r=!0){let i=document.getElementById(`product-form-${this.dataset.section}`);if(!i)return;let o=i.querySelector('[name="add"]'),a=i.querySelector('[name="add"] > span');if(o&&(e?o.setAttribute("disabled","disabled"):o.removeAttribute("disabled"),t?a.textContent=t:a.textContent=window.variantStrings.addToCart,!r))return}setUnavailable(){let e=document.getElementById(`product-form-${this.dataset.section}`),t=e.querySelector('[name="add"]'),r=e.querySelector('[name="add"] > span'),i=document.getElementById(`price-${this.dataset.section}`);t&&(r.textContent=window.variantStrings.unavailable,i&&i.classList.add("visibility-hidden"))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"]').textContent),this.variantData}getVariantQtyData(){return this.variantQtyData=JSON.parse(this.querySelector(".productVariantsQty").textContent),this.variantQtyData}}customElements.define("variant-selects",VariantSelects);var BlsEventMainProductShopify={init:function(){this.setupEventListeners(),this.eventFlashSold(),this.eventVisitors(),this.eventCountdowProduct(),this.eventProductTabs(),this.eventCompareColors(),this.stickyAddToCartButton(),this.productMedia(),this.eventMediaGalleryProduct(),this.eventProductBoughTogether()},setupEventListeners:function(){document.querySelectorAll(options.productAddons).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget,r=t.getAttribute("data-id"),i=t.getAttribute("data-text"),o=document.getElementById(r),a="";if("share-popup"==r&&(a=" dlg-disable-heading"),o){var n=EasyDialogBox.create(r,"dlg"+a+" dlg-disable-footer dlg-disable-drag",i,o.innerHTML);n.onClose=n.destroy,n.show(300)}"compare-color-popup"==r&&this.eventCompareColors(),"share-popup"==r&&this.eventCopyShare()},!1)});let e=document.querySelector("[data-product-json]");if(null!=e){var t=JSON.parse(e.innerHTML),r=JSON.parse(localStorage.getItem("bls__recently-viewed-products"));r?r.length<=10&&this.addProductEntry(t,r):this.addProductEntry(t,r)}},addProductEntry:function(e,t){null===t&&(t=[]);var r=e.id,i=e.handle,o={handle:i,id:r};JSON.parse(localStorage.getItem("product"))!=i&&localStorage.setItem("product",JSON.stringify(o));for(var a=t.length;a--;)if(t[a].handle===o.handle){t.splice(a,1);break}t.push(o),localStorage.getItem(t)?localStorage.getItem("bls__recently-viewed-products",JSON.stringify(t)):localStorage.setItem("bls__recently-viewed-products",JSON.stringify(t))},eventMediaGalleryProduct:function(){let e=document.querySelector(".bls__swiper-gallery-thumbnails"),t=document.querySelector(".bls__swiper-gallery");if(e){if(e.classList.contains("bls__swiper-vertical"))var r,i,o,a,r=new Swiper(".bls__swiper-gallery-thumbnails.bls__swiper-vertical",{spaceBetween:10,slidesPerView:8,freeMode:!0,direction:"vertical",watchSlidesProgress:!0});else var r=new Swiper(".bls__swiper-gallery-thumbnails",{spaceBetween:10,slidesPerView:5,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}})}if(t){if(r)var o=new Swiper(".bls__swiper-gallery",{loop:!1,speed:600,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:r}});else{let n="true"===t.dataset.autoplay,s=t?.dataset.mobile,l=t?.dataset.spacing,c=t?.dataset.sectionId;var o=new Swiper(".bls__swiper-gallery",{slidesPerView:s,spaceBetween:Number(l),autoplay:n,speed:600,loop:!1,grid:{rows:c},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},pagination:{clickable:!0,el:".swiper-pagination"}})}}let d=document.querySelector(".bls__swiper-gallery-thumbnails-mobile"),u=document.querySelector(".bls__swiper-gallery-mobile");if(d&&u)var i=new Swiper(".bls__swiper-gallery-thumbnails-mobile",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});if(i)var a=new Swiper(".bls__swiper-gallery-mobile",{spaceBetween:0,speed:600,loop:!1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:i}});else var a=new Swiper(".bls__swiper-gallery-mobile",{slidesPerView:1,longSwipesMs:600,spaceBetween:0,autoplay:!1,loop:!1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},pagination:{clickable:!0,el:".swiper-pagination"}});document.querySelectorAll(".bls__product-details-infor .bls__option-swatch").forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;setTimeout(function(){var e=Array.from(t.closest("variant-selects").querySelectorAll(".bls__option-swatch.active"),e=>e.getAttribute("data-value")),r=JSON.parse(t.closest("variant-selects").querySelector('[type="application/json"]').textContent).find(t=>!t.options.map((t,r)=>e[r]===t).includes(!1));if(r&&r.featured_media){var i=r.featured_media.id,n=t.closest(".bls__template-product").querySelector(`.product__media-gallery [data-media-id="${i}"]`).getAttribute("data-position");o&&o.slideTo(n-1,600),a&&a.slideTo(n-1,600)}},100)},!1)}),o&&o.on("slideChange",function(){var e=o.realIndex+1;t.querySelector(`.gallery-img[data-position="${e}"]`).classList.contains("model")?o.allowTouchMove=!1:o.allowTouchMove=!0}),a.on("slideChange",function(){var e=a.realIndex+1;u.querySelector(`.gallery-img[data-position="${e}"]`).classList.contains("model")?a.allowTouchMove=!1:a.allowTouchMove=!0})},productMedia:function(){var e=0;document.querySelectorAll(options.photoZoomImage).forEach(t=>{var r=this.getProductItems(t);t.addEventListener("click",t=>{t.preventDefault();let i=t.currentTarget;if(i.classList.contains("external_video")||i.classList.contains("video")||i.classList.contains("model"))return;i.getAttribute("data-position")?e=i.getAttribute("data-position"):i.closest(".product__media-list").querySelector(".swiper-slide-active")&&(e=i.closest(".product__media-list").querySelector(".swiper-slide-active").getAttribute("data-position"));let o=GLightbox({elements:r,startAt:e-1,openEffect:"fade",closeEffect:"fade",loop:!1,draggable:!1,autoplayVideos:!1});o.open()},!1)});var t=document.querySelector(".bls__template-product").getAttribute("data-section");document.querySelectorAll("[data-product-media-type-video-desktop]").forEach(function(e){theme.ProductVideo.init(e,t)}),document.querySelectorAll("[data-product-media-type-video-mobile]").forEach(function(e){theme.ProductVideo.init(e,t)});var r=document.querySelectorAll("[data-product-media-type-model-desktop]");r.length>=1&&theme.ProductModel.init(r,t);var i=document.querySelectorAll("[data-product-media-type-model-mobile]");i.length>=1&&theme.ProductModel.init(i,t)},getProductItems:function(e){var t=[];return e.closest(".product__media-list").querySelectorAll(options.mediaImage).forEach(e=>{var r=e,i=r.getAttribute("data-src"),o=r.getAttribute("data-width");if(r.classList.contains("video")){var a=r.getAttribute("data-source-url");t.push({href:a,type:"video",source:"local",width:o})}else if(r.classList.contains("external_video")){var n=r.getAttribute("data-source"),s=r.getAttribute("data-video-id"),a="youtube",l="";"youtube"==n?(a="youtube",l="https://www.youtube.com/watch?v="+s):(a="vimeo",l="https://vimeo.com/"+s),t.push({href:l,type:"video",source:a,width:o})}else t.push({href:i})}),t},eventCopyShare:function(){document.querySelectorAll(options.shareCopy).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget;var r=document.getElementById("share-popup-input");r.select(),r.setSelectionRange(0,99999),navigator.clipboard.writeText(r.value),t.classList.add("active")},!1)})},eventCompareColors:function(){document.querySelectorAll(options.compareColorsBtn).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget,r=t.getAttribute("data-color"),i=t.getAttribute("data-image");if(t.classList.contains("active"))t.classList.remove("active"),document.querySelector(".dlg .item-compare-color."+r.replace(" ","-")).remove(),setTimeout(function(){document.querySelector(".dlg .item-compare-color")||document.querySelector(".dlg .compare-color-empty").classList.remove("d-none")},100);else if(document.querySelector(".dlg .compare-color-empty").classList.add("d-none"),t.classList.add("active"),r&&i){let o=document.createElement("div");o.classList.add("item-compare-color",r.replace(" ","-")),o.innerHTML='<div class="image"><img src="'+i+'" alt="'+r+'"></div><p class="mt-10 heading-color capitalize">'+r+"</p>",document.querySelector(".dlg .bls__compare-colors-list").appendChild(o)}},!1)})},eventProductTabs:function(){if(document.querySelectorAll(options.navTabs).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget,r=t.getAttribute("data-block-id");if(!t.closest(".data.item").classList.contains("active")){for(var i of document.querySelectorAll(".data.item"))i.classList.remove("active");for(var i of document.querySelectorAll(options.tabContent))i.classList.remove("active"),i.querySelector(".tab-panel").style.display="none";let o=document.getElementById(r);o.classList.add("active"),o.querySelector(".tab-panel").style.display="block",t.closest(".data.item").classList.add("active")}},!1)}),document.querySelectorAll(options.accorditionTabs).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget,r=t.getAttribute("data-block-id"),i=document.getElementById(r);if(i){if(i.classList.contains("active"))slideAnime({target:i.querySelector(".tab-panel"),animeType:"slideUp"}),i.classList.remove("active");else{for(var o of document.querySelectorAll(options.tabContent))o.classList.remove("active"),slideAnime({target:o.querySelector(".tab-panel"),animeType:"slideUp"});slideAnime({target:i.querySelector(".tab-panel"),animeType:"slideDown"}),i.classList.add("active")}}},!1)}),document.querySelector(".inside-product-main-infomation")){let e=document.querySelector(options.productInfomationTab);e.classList.remove("hidden"),setTimeout(function(){e.querySelector(".loading").remove(),e.appendChild(document.querySelector(".inside-product-main-infomation .product.info.detailed"))},500)}},eventFlashSold:function(){Shopify.eventFlashSold()},eventVisitors:function(){let e=document.querySelector(options.visitors);if(!e)return;let t=Number(e.getAttribute("data-count-range-max")),r=Number(e.getAttribute("data-count-range-min")),i=Number(e.getAttribute("data-view-duration"));document.querySelector(".bls__visitor-count").innerHTML=Math.floor(Math.random()*(t-r+1))+r,setInterval(function(){document.querySelector(".bls__visitor-count").innerHTML=Math.floor(Math.random()*(t-r+1))+r},1e3*i),e.style.display="block"},stickyAddToCartButton:function(){document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".product-form__submit"),t=document.querySelector("#bls__sticky-addcart"),r=0;t&&t.classList.contains("only-show-desktop")?window.innerWidth>=992&&document.body.classList.add("sticky-addtocart-show"):document.body.classList.add("sticky-addtocart-show"),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&t&&new IntersectionObserver(function(e,i){e.forEach(function(e){e.boundingClientRect.top<r&&e.boundingClientRect.top<0?t.classList.add("sticky-addcart-show"):t.classList.remove("sticky-addcart-show"),r=e.boundingClientRect.top})},{threshold:.5}).observe(e)})},eventCountdowProduct:function(){let e=document.querySelector(options.countdowProduct);if(!e)return;let t=document.querySelector(options.templateProduct).getAttribute("data-product-id");fetch("/admin/orders.json").then(e=>e.json()).then(r=>{var i=0,r=r.orders;r.forEach(function(e,r){e.line_items.forEach(function(e,r){e.product_id==t&&(i+=e.quantity||0)})});var o=parseInt(e.querySelector(".bls__count").innerText),a=o+i,n=100*(o/a);setTimeout(function(){e.querySelector(".progressbar div").style.width=n+"%"},300)}).catch(e=>{throw e}),setInterval(function(){fetch("/admin/orders.json").then(e=>e.json()).then(r=>{var i=0,r=r.orders;r.forEach(function(e,r){e.line_items.forEach(function(e,r){e.product_id==t&&(i+=e.quantity||0)})});var o=0;fetch("/admin/products/"+t+"/variants.json").then(e=>e.json()).then(t=>{t.variants.forEach(function(e,t){o+=e.inventory_quantity||0}),e.querySelector(".bls__count").innerHTML=o}).catch(e=>{throw e});var a=parseInt(e.querySelector(".bls__count").innerText),n=a+i,s=100*(a/n);setTimeout(function(){e.querySelector(".progressbar div").style.width=s+"%"},300)}).catch(e=>{throw e})},1e4)},eventProductBoughTogether:function(){var e=document.querySelector('.productBoughTogether[type="application/json"]');if(e){var t=JSON.parse(e.innerText),r="";t.forEach((e,t,i)=>{Object.is(i.length-1,t)?r+=e:r+=e+"%20OR%20id:"}),fetch(`${window.routes.search_url}${"?q=id:"+r+"&section_id=product-bough-together"}`).then(e=>e.text()).then(async e=>{let t=new DOMParser().parseFromString(e,"text/html");document.getElementById("bls__product-bought-together").innerHTML=t.querySelector(".bls__bought-together").innerHTML}).catch(e=>{throw error}).finally(()=>{this.eventProductBoughTogetherAction(),BlsLazyloadImg.init()})}},eventProductBoughTogetherAction:function(){var e=this;document.querySelectorAll(".bought-together-checkbox").forEach(t=>{t.addEventListener("change",t=>{var r,i,o=0,a=0,n=0;t.target.checked?(t.target.closest(".product-bought-together-item").classList.add("select"),t.target.closest(".product-bought-together-item").querySelector(".product-variant-option").removeAttribute("disabled"),t.target.closest(".product-bought-together-item").querySelector(".quantity").removeAttribute("disabled")):(t.target.closest(".product-bought-together-item").classList.remove("select"),t.target.closest(".product-bought-together-item").querySelector(".product-variant-option").setAttribute("disabled",!0),t.target.closest(".product-bought-together-item").querySelector(".quantity").setAttribute("disabled",!0)),setTimeout(function(){var t=document.querySelectorAll(".product-bought-together-item.select");t.forEach(e=>{var t=e.querySelector(".product-variant-option");r=t.getAttribute("data-price"),i=t.getAttribute("data-compare-price"),o+=Number(r),a+=Number(i)}),n=a-o,e.eventProductBoughTogetherUpdatePrice(o,a,n),t.length<=1?document.querySelector(".bought-together-submit").setAttribute("disabled",!0):document.querySelector(".bought-together-submit").removeAttribute("disabled")},50)},!1)}),document.querySelectorAll("#bls__product-bought-together .product-variant-option").forEach(t=>{t.addEventListener("change",t=>{var r=t.target,i=0,o=0,a=0,n=r.options[r.selectedIndex].getAttribute("data-image"),s=r.options[r.selectedIndex].getAttribute("data-price"),l=r.options[r.selectedIndex].getAttribute("data-compare-price"),c=r.closest(".product-bought-together-item").querySelector("img");c&&(c.removeAttribute("srcset"),c.setAttribute("src",n));var d=r.closest(".product-bought-together-item").querySelector(".info-price");d.querySelector(".price__regular .price").innerHTML=Shopify.formatMoney(s,cartStrings.money_format);let u=d.querySelector(".bls__price");if(u.classList.remove("price--sold-out","price--on-sale"),u.querySelector(".price__regular .price").classList.remove("special-price"),l&&l>s){let p=Shopify.formatMoney(l,cartStrings.money_format);u.querySelector(".compare-price").innerHTML=p,u.classList.add("price--on-sale"),u.querySelector(".price__regular .price").classList.add("special-price")}r.setAttribute("data-price",s),r.setAttribute("data-compare-price",l),document.querySelectorAll(".product-bought-together-item.select").forEach(e=>{var t=e.querySelector(".product-variant-option");s=t.getAttribute("data-price"),l=t.getAttribute("data-compare-price"),i+=Number(s),o+=Number(l)}),a=o-i,e.eventProductBoughTogetherUpdatePrice(i,o,a)},!1)}),document.querySelectorAll(".bought-together-submit").forEach(e=>{e.addEventListener("click",this.submitBoughtTogether.bind(this),!1)})},submitBoughtTogether:function(e){e.preventDefault();let t=e.currentTarget,r=document.querySelector("cart-notification")||document.querySelector("cart-drawer"),i=document.getElementById("bls__bought-together-form"),o=fetchConfig("json");o.headers["X-Requested-With"]="XMLHttpRequest",delete o.headers["Content-Type"];let a=new FormData(i);r&&(a.append("sections",r.getSectionsToRender().map(e=>e.id)),a.append("sections_url",window.location.pathname)),console.log(a),o.body=a,t.classList.add("btn-loading"),fetch(`${routes.cart_add_url}.js`,o).then(e=>e.text()).then(e=>{fetch("/cart.json").then(e=>e.json()).then(e=>{document.querySelectorAll(".cart-count").forEach(t=>{t.innerHTML=e.item_count})}).catch(e=>{throw e});let t=JSON.parse(e);r.getSectionsToRender().forEach(e=>{let i=document.getElementById(e.id),o=new DOMParser().parseFromString(t.sections[e.id],"text/html");i.innerHTML=o.querySelector("#form-mini-cart").innerHTML;let a=document.querySelector(".bls__cart-thres-js");a&&(o.querySelector(".bls__cart-thres-js").classList.contains("cart_shipping_free")?a.classList.add("cart_shipping_free"):a.classList.remove("cart_shipping_free"),a.querySelector(".bls__cart-thres").innerHTML=o.querySelector(".bls__cart-thres").innerHTML,setTimeout(function(){a.querySelector(".percent_shipping_bar").setAttribute("style",o.querySelector(".percent_shipping_bar").getAttribute("style"))},500));let n=r.querySelector(".cart-countdown-time"),s=o.querySelector(".cart-countdown-time");n&&s&&(n.innerHTML=s.innerHTML,r.countdownTimer())}),r.cartAction()}).catch(e=>{throw e}).finally(()=>{t.classList.remove("btn-loading"),r.open(),BlsLazyloadImg.init()})},eventProductBoughTogetherUpdatePrice:function(e,t,r){var i=document.querySelector(".bought-together-container .total-product");i&&(i.querySelector(".saved-price .price").innerHTML=Shopify.formatMoney(r,cartStrings.money_format),i.querySelector(".bls__total-price .price__sale .price-item").innerHTML=Shopify.formatMoney(t,cartStrings.money_format),i.querySelector(".bls__total-price .price").innerHTML=Shopify.formatMoney(e,cartStrings.money_format),t>e?(i.querySelector(".bls__total-price").classList.add("price--on-sale"),i.querySelector(".bls__total-price .price").classList.add("special-price")):(i.querySelector(".bls__total-price").classList.remove("price--on-sale"),i.querySelector(".bls__total-price .price").classList.remove("special-price")),r>1?(i.querySelector(".saved-price").classList.add("d-block"),i.querySelector(".saved-price").classList.remove("d-none")):(i.querySelector(".saved-price").classList.add("d-none"),i.querySelector(".saved-price").classList.remove("d-block")))}};BlsEventMainProductShopify.init();